<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Twp envchecker by twpDone</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Twp envchecker</h1>
        <p class="header">Environment checker</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/twpDone/twp_envChecker/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/twpDone/twp_envChecker/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/twpDone/twp_envChecker">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/twpDone">twpDone</a></p>


      </header>
      <section>
        <h1>
<a name="twp_envchecker" class="anchor" href="#twp_envchecker"><span class="octicon octicon-link"></span></a>twp_envChecker</h1>

<p>Environment checker</p>

<p><a href="http://twpdone.github.io/twp_envChecker">http://twpdone.github.io/twp_envChecker</a>
FR</p>

<p>Tapez checkEnv -h pour afficher l'aide.</p>

<p>Vous pouvez lancer les verification une par une:<br><code>checkEnv -NomVerif</code></p>

<p>Ou toutes Ã  la fois <br><code>checkEnv -all</code></p>

<p>Options facultatives<br><code>-eo</code> : Error only :Seules les erreurs s'affichent<br><code>-nc</code> : No color : enleve la coloration syntaxique dans la sortie console, utile si vous souhaitez sauvegarder la sortie dans un fichier<br><code>-html</code> : Produit une sortie html <br>
        Rediriger la sortie vers un fichier la sortie pour sauvegarder vos resultats sous format html<br><code>-file fileName</code> : Execute les verifications que vos avez definies dans le fichier fileName<br></p>

<p>Pour avoir de l'aide pour creer votre fichier de configuration : <br><code>checkEnv -howToConfig</code></p>

<p>Cette option liste les verifications configurables depuis le fichier de config.</p>

<pre><code>"Le format du fichier de configuration est simple
 Le format de chaque ligne doit etre :
    command:argument[:argument2][:argument3][:...]

..."
</code></pre>

<p>Exemple de fichier de config :<br></p>

<pre><code>    sshd:/etc/ssh/sshd_config:PermitRootLogin:yes
    userExist:root:system
    fileOwnership:/bin:bin:bin
</code></pre>

<p>/!\ attention pas d'espaces en debut de ligne, sinon la commande ne sera pas executee</p>

<h2>
<a name="dev-corner" class="anchor" href="#dev-corner"><span class="octicon octicon-link"></span></a>DEV CORNER</h2>

<p>Pour developper la suite:</p>

<p>Affichage standard avec la fonction "normal", du message de succes de la verification avec "success", et message d'echec de la verification avec "fail".<br>
Ces fonctions sont a utiliser comme echo</p>

<p>Pensez a mettre a jour les fonctions usage, cherckArg, howTo .</p>

<p>Faire une fonction qui fait un check sur un point precis (un user, un fichier, un fs, ...)<br>
Cette fonction prend des Arguments.</p>

<p>Faire la fonction de check par defaut.<br>
Cette fonction appellera autant de fois que necessaire la fonction precedente (fonction de check unitaire)<br>
Cette fonction pourra eventuellement lire dans le fichier $CONFIGFILE les regles qui matchent a son nom : <br></p>

<p>FunctionName etant le nom de la fonction de test unitaire<br></p>

<pre><code>    if test -f $CONFIGFILE
    then
        success $Cyan"*************************"$Off
        success $Cyan"Reading from "$CONFIGFILE$Off
        success $Cyan"*************************"$Off
        functionNameLines=`cat $CONFIGFILE | egrep "^functionName"`
        for functionNameLine in $functionNameLines
        do
            # les arguments sont separes par ":"
            functionNameArg1=`echo $functionNameLine | cut -d ":" -f 2`
            functionNameArg2=`echo $functionNameLine | cut -d ":" -f 3`

            functionName $functionNameArg1 $functionNameArg2
        done
    else
        # si $CONFIGFILE n'existe pas
        # traitement par default
    fi
</code></pre>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
